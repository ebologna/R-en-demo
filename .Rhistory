h
length(z)
length(h)
levels(pertenencia)
pertenencia
length(pertenencia)
sexo <- c(rep(1, 7), rep(2, 3))
sexo <- as.factor(sexo)
levels(sexo) <- c("varones", "mujeres")
edad <- c(25, 28, 31, 20, 21, 22, 25, 28, 28, 28)
sexo_edad_estudiantes <- data.frame(sexo, edad)
class(sexo_edad_estudiantes)
attributes(sexo_edad_estudiantes)
sexo_edad_estudiantes$sexo
class(sexo_edad_estudiantes$sexo)
levels(sexo_edad_estudiantes$sexo)
levels(sexo_edad_estudiantes$sexo) <- c("femenino", "masculino")
write.table(sexo_edad_estudiantes,
"sexo_edad_estudiantes.csv",
sep = ";", row.names = FALSE)
table(sexo_edad_estudiantes$sexo)
table(sexo_edad_estudiantes$edad)
eph.3.18 <- read.table("usu_individual_T318.txt",
sep = ";", header = TRUE
)
x <- seq(1, 10, .1)
y <- 3 - 2 * x
plot(x, y,
xlab = "valor de x", ylab = "valor de y",
main = "Función lineal decreciente"
)
y <- 3 - 2 * x + rnorm(91)
plot(x, y,
xlab = "valor de x", ylab = "valor de y",
main = "Tendencia lineal decreciente"
)
class(eph.3.18)
names(eph.3.18)
eph.3.18$sexo<-as.factor(eph.3.18$CH04)
levels(eph.3.18$sexo)<-c("varon", "mujer")
levels(eph.3.18$sexo) # verificamos
eph.3.18$ESTADO<-as.factor(eph.3.18$ESTADO)
# se descarta el cero y el cuatro
levels(eph.3.18$ESTADO)<-c(NA, "ocupade", "desocupade", "inactive", NA)
levels(eph.3.18$ESTADO)
table(eph.3.18$sexo)
tabla.sexo<-table(eph.3.18$sexo)
class(tabla.sexo)
# se agregan los totales:
addmargins(table(eph.3.18$sexo))
addmargins(table(eph.3.18$ESTADO))
# Y frecuencias relativas:
prop.table(tabla.sexo)
# Frecuencias relativas multiplicadas por 100 y
# redondeadas a 2 dos decimales
round(100*prop.table(table(eph.3.18$sexo)), 2)
tabla.sexo[1]
tabla.sexo[2]
tabla.sexo[3] # no existe
addmargins(tabla.sexo)[3]# es el total
table(eph.3.18$ESTADO, eph.3.18$sexo)
sexo_por_estado<-table(eph.3.18$ESTADO, eph.3.18$sexo)
sexo_por_estado
sexo_por_estado[1]
sexo_por_estado[2]
sexo_por_estado[4]
summary(eph.3.18$sexo)
library(questionr)
wtd.table(eph.3.18$sexo, weights = eph.3.18$PONDERA)
# univariada
addmargins(wtd.table(eph.3.18$sexo,
weights = eph.3.18$PONDERA))
#bivariada
addmargins(wtd.table(eph.3.18$ESTADO, eph.3.18$sexo,
weights = eph.3.18$PONDERA))
chisq.test(sexo_por_estado)
prueba_chi<-chisq.test(sexo_por_estado)
# es de una clase especifica
class(prueba_chi)
summary(prueba_chi)
prueba_chi$expected
prueba_chi$method
prueba_chi$statistic
# definimos una nueva variable como factor a partir de NIVEL_ED
eph.3.18$educacion<-as.factor(eph.3.18$NIVEL_ED)
# ajustamos el orden de sus niveles: primero el 7,
# luego del 1 al 6:
eph.3.18$educacion<-factor(eph.3.18$educacion,
levels(eph.3.18$educacion)[c(7, 1:6)])
# la cruzamos con la original para verificar
table(eph.3.18$educacion, eph.3.18$NIVEL_ED)
# ahora ponemos nombres a los niveles
levels(eph.3.18$educacion)<-c("sin instruccion", "primaria incompleta",
"primaria completa", "secundaria incompleta", "secundaria completa",
"universitaria incompleta", "universitaria completa")
table(eph.3.18$educacion)
eph.3.18$educacion_numerica<-as.numeric(eph.3.18$educacion)
5>4
2+3==6
2>1 & 3<5
2>1 & 3>5
2>1 | 3>5
eph.3.18$edad<-eph.3.18$CH06
eph.3.18$edad[eph.3.18$CH06==-1]<-0
asalariados.con.ingreso.cordoba<-subset(
eph.3.18, eph.3.18$CAT_OCUP==3  &
eph.3.18$AGLOMERADO==13 &
eph.3.18$PP08D1>0 &
is.na(eph.3.18$PP08D1)==FALSE)
summary(asalariados.con.ingreso.cordoba$PP08D1)
mean(asalariados.con.ingreso.cordoba$PP08D1)
sd(asalariados.con.ingreso.cordoba$PP08D1)
median(asalariados.con.ingreso.cordoba$PP08D1)
min(asalariados.con.ingreso.cordoba$PP08D1)
max(asalariados.con.ingreso.cordoba$PP08D1)
x<-c(1,5,8,4,NA,6,4,9,NA)
mean(x)
mean(x, na.rm = TRUE)
sd(
asalariados.con.ingreso.cordoba$PP08D1)/mean(
asalariados.con.ingreso.cordoba$PP08D1)
cv<-function(x){
sd(x)/mean(x)
}
cv(asalariados.con.ingreso.cordoba$PP08D1)
cv<-function(x){
100*round(sd(x)/mean(x),2)
}
cv(asalariados.con.ingreso.cordoba$PP08D1)
cv<-function(x){
paste(100*round(sd(x)/mean(x),2),"%")
}
cv(asalariados.con.ingreso.cordoba$PP08D1)
cramer.v(sexo_por_estado)
cor(
asalariados.con.ingreso.cordoba$educacion_numerica,
asalariados.con.ingreso.cordoba$PP08D1,
method = "spearman")
cor.test(
asalariados.con.ingreso.cordoba$educacion_numerica,
asalariados.con.ingreso.cordoba$PP08D1,
method = "spearman")
cor(asalariados.con.ingreso.cordoba$edad,
asalariados.con.ingreso.cordoba$PP08D1)
cor.test(asalariados.con.ingreso.cordoba$edad,
asalariados.con.ingreso.cordoba$PP08D1)
summary(asalariados.con.ingreso.cordoba$PP3E_TOT)
asalariados.con.ingreso.y.horas.cordoba<-subset(
asalariados.con.ingreso.cordoba,
asalariados.con.ingreso.cordoba$PP3E_TOT>0)
modelo.1<-lm(PP08D1~PP3E_TOT,
data = asalariados.con.ingreso.y.horas.cordoba)
summary(modelo.1)
plot(asalariados.con.ingreso.y.horas.cordoba$PP3E_TOT,
asalariados.con.ingreso.y.horas.cordoba$PP08D1)
plot(modelo.1)
modelo.2<-lm(PP08D1~PP3E_TOT+edad,
data = asalariados.con.ingreso.y.horas.cordoba)
summary(modelo.2)
modelo.3<-lm(PP08D1~PP3E_TOT+edad+sexo,
data = asalariados.con.ingreso.y.horas.cordoba)
summary(modelo.3)
modelo.4<-lm(PP08D1~PP3E_TOT+edad+sexo+edad*sexo,
data = asalariados.con.ingreso.y.horas.cordoba)
summary(modelo.4)
t.test(PP08D1~sexo, data = subset(
asalariados.con.ingreso.cordoba,
asalariados.con.ingreso.cordoba$CH03==1))
t.test(PP08D1~sexo, data = subset(
asalariados.con.ingreso.cordoba,
asalariados.con.ingreso.cordoba$CH03==1), alternative="greater")
library(ggplot2)
ggplot(asalariados.con.ingreso.y.horas.cordoba)
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(PP08D1))+
geom_histogram()
ggplot()+
geom_histogram(
data=asalariados.con.ingreso.y.horas.cordoba, aes(PP08D1))
ggplot()+
geom_histogram(
data=asalariados.con.ingreso.y.horas.cordoba,
aes(PP08D1, y=..density..))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(PP08D1))+
geom_histogram()+geom_freqpoly()
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(PP08D1))+
geom_histogram(aes(y=..density..))+
geom_density()
ggplot(asalariados.con.ingreso.y.horas.cordoba, aes(PP08D1))+
geom_histogram(fill="green", col="blue")+
geom_freqpoly()
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1))
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, shape=sexo))
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo, shape=sexo))
ggplot(
subset(asalariados.con.ingreso.y.horas.cordoba, asalariados.con.ingreso.y.horas.cordoba$educacion=="universitaria completa" & asalariados.con.ingreso.y.horas.cordoba$CH03==1))+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo, size=edad))
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1))+
facet_grid(.~sexo)
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1))+
facet_grid(sexo~.)
asalariados.con.ingreso.y.horas.cordoba$cantidad.ocupaciones<-
as.factor(asalariados.con.ingreso.y.horas.cordoba$PP03I)
levels(asalariados.con.ingreso.y.horas.cordoba$cantidad.ocupaciones)<-
c("una ocupación", "más de una ocupación")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1))+
facet_grid(cantidad.ocupaciones~sexo)
p1<-ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1))+
facet_grid(cantidad.ocupaciones~sexo)
p1
p1+coord_flip()
p1+ xlab("Horas trabajadas")+
ylab("Ingresos salariales")
p1+ xlab("Horas trabajadas")+
ylab("Ingresos salariales")+
labs(title="Ingresos salariales según cantidad de horas semanales trabajadas",
subtitle="clasificación por sexos y cantidad de ocupaciones",
caption="Fuente: EPH tercer trimestre 2018")
p2<-p1+ xlab("Horas trabajadas")+
ylab("Ingresos salariales")+
labs(title="Ingresos salariales según cantidad de horas semanales trabajadas", subtitle="clasificación por sexos y cantidad de ocupaciones",
caption="Fuente: EPH tercer trimestre 2018")
library(ggthemes)
p2+theme_wsj()
p2+theme_economist()
p2+theme_excel()
p2+theme_tufte()
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(PP3E_TOT, PP08D1))+
geom_point()+geom_smooth()
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(PP3E_TOT, PP08D1))+
geom_point()+geom_smooth(se=FALSE)
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(PP3E_TOT, PP08D1))+
geom_point()+geom_smooth(se=FALSE, method = "lm")
library(mblm)
estimador_theil_sen <- function(..., weights = NULL) {
mblm::mblm(...)
}
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(PP3E_TOT, PP08D1))+
geom_point()+geom_smooth(se=FALSE, method = "estimador_theil_sen")
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
PP08D1, sexo))+
geom_boxplot()
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
sexo, PP08D1))+
geom_boxplot()
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot()
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot(aes(fill=sexo))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+geom_violin()
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot()+
stat_summary(fun.y=mean, geom="point")
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot()+
stat_summary(fun.y=mean, geom="point", col="red")
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_violin()+stat_summary(fun.y=median, geom="point")
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot()+
stat_summary(fun.y=mean, geom="point")+
stat_summary(fun.y=mean, geom="line", aes(group=1))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot()+stat_summary(fun.y=median, geom="line", aes(group=1))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
as.numeric(educacion), PP08D1))+ geom_point()+geom_smooth()
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+ geom_point(aes(
as.numeric(educacion), PP08D1))+geom_smooth(aes(
as.numeric(educacion), PP08D1), method = "estimador_theil_sen", se=FALSE)
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot()+
stat_summary(fun.y=mean, geom="point")+
stat_summary(fun.y=mean, geom="line", aes(group=1))+
facet_grid(.~sexo)
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot()+
stat_summary(fun.y=mean, geom="point")+
stat_summary(fun.y=mean, geom="line", aes(group=1))+
facet_grid(.~sexo)+ ylab("Ingresos salariales")+
theme_tufte()
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot(
aes(
fill=educacion))+ #acá se mapea la educación al color
stat_summary(fun.y=mean, geom="point")+
stat_summary(fun.y=mean, geom="line", aes(group=1))+
facet_grid(.~sexo)+ ylab("Ingresos salariales")+
theme_tufte()+
theme(
axis.text.x=element_blank(), # esto elimina los rótulos
axis.ticks.x=element_blank()) # y esto las marcas
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(sexo))
asalariados.con.ingreso.y.horas.cordoba$relacion_parentesco<-
as.factor(asalariados.con.ingreso.y.horas.cordoba$CH03)
levels(asalariados.con.ingreso.y.horas.cordoba$relacion_parentesco)<-
c("Jefe/a", "Cónyuge / Pareja", "Hijo / Hijastro/a",
"Yerno / Nuera", "Nieto/a", "Madre / Padre",
"Suegro/a", "Hermano/a", "Otros Familiares",
"No Familiares")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(sexo, fill=relacion_parentesco))
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(relacion_parentesco, fill=sexo))
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(relacion_parentesco, fill=sexo), position = "dodge")
table(asalariados.con.ingreso.y.horas.cordoba$relacion_parentesco)
tabla_rela_pa<-as.data.frame(
asalariados.con.ingreso.y.horas.cordoba$relacion_parentesco
)
View(tabla_rela_pa)
tabla_rela_pa<-as.data.frame(
table(asalariados.con.ingreso.y.horas.cordoba$relacion_parentesco)
)
View(tabla_rela_pa)
names(tabla_rela_pa)<-c(
"rel_pa", "casos"
)
View(tabla_rela_pa)
ggplot(tabla_rela_pa)+geom_bar(aes(rel_pa, casos))
ggplot(tabla_rela_pa)+geom_bar(aes(rel_pa))
ggplot(tabla_rela_pa)+geom_bar(aes(rel_pa), stat = "identity")
ggplot(tabla_rela_pa)+geom_bar(aes(rel_pa,casos), stat = "identity")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(relacion_parentesco))
table(
asalariados.con.ingreso.y.horas.cordoba$relacion_parentesco)
tabla_rela_pa<-as.data.frame(
table(asalariados.con.ingreso.y.horas.cordoba$relacion_parentesco)
)
names(tabla_rela_pa)<-c(
"rel_pa", "casos"
)
ggplot(
tabla_rela_pa)+
geom_bar(aes(rel_pa,casos), stat = "identity")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(sexo, fill=relacion_parentesco), position = "fill")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(sexo, fill=relacion_parentesco), position = "fill")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_bar(aes(relacion_parentesco, fill=sexo), position = "fill")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")+
scale_fill_brewer(palette="Dark2")
display.brewer.all()
library("RColorBrewer")
display.brewer.all()
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_fill_brewer("Pastel2")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("Pastel2")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("BrBG")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("Spectral")
library("viridis")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")+
scale_color_viridis(option = "magma")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")+
scale_fill_viridis(option = "magma")
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")+
scale_fill_brewer(palette="Dark2")
library("RColorBrewer")
display.brewer.all()
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("Dark")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("Set1")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("Dark2")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("Set2")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+scale_color_brewer("Set3")
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))++
scale_colour_manual(values=c('varon'="green", 'mujer'="red"))
ggplot(
asalariados.con.ingreso.y.horas.cordoba)+
geom_point(aes(PP3E_TOT, PP08D1, col=sexo))+
scale_colour_manual(values=c('varon'="green", 'mujer'="red"))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot(aes(fill=sexo))+
scale_colour_manual(values=c('varon'="green", 'mujer'="blue"))
ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot(aes(fill=sexo))+
scale_fill_manual(values=c('varon'="green", 'mujer'="blue"))
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")+
scale_fill_manual(values=c('varon'="white", 'mujer'="blue"))
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")+
scale_fill_manual(values=c("varon"="white", 'mujer'="blue"))
ggplot(asalariados.con.ingreso.y.horas.cordoba)+
geom_histogram(aes(PP08D1, fill=sexo), col="blue")+
scale_fill_manual(values=c("varon"="white", "mujer"="blue"))
(p4<-ggplot(
asalariados.con.ingreso.y.horas.cordoba, aes(
educacion, PP08D1))+
geom_boxplot(
aes(
fill=educacion))+ #acá se mapea la educación al color
stat_summary(fun.y=mean, geom="point")+
stat_summary(fun.y=mean, geom="line", aes(group=1))+
facet_grid(.~sexo)+ ylab("Ingresos salariales")+
theme_tufte()+
theme(
axis.text.x=element_blank(), # esto elimina los rótulos
axis.ticks.x=element_blank())) # y esto las marcas
p5+scale_fill_brewer("spectral")
p4+scale_fill_brewer("spectral")
library(viridis)
p4+scale_fill_viridis_d()
p4+scale_fill_inferno_d()
p4+scale_fill_inferno()
p4+scale_fill_inferno(magma(7))
p4+scale_fill_viridis(magma(7))
p4+scale_fill_viridis(option = A)
p4+scale_fill_viridis(option = "A")
p4+scale_fill_viridis(option = "D")
p4+scale_fill_viridis_d(option = "D")
p4+scale_fill_viridis_d(option = "A")
p4+scale_fill_viridis_d(option = "A", begin = 1,
end = 0)
(x<-3)
p2<-p1+ xlab("Horas trabajadas")+
ylab("Ingresos salariales")+
labs(title="Ingresos salariales según cantidad de \n horas semanales trabajadas",
subtitle="clasificación por sexos y cantidad de ocupaciones",
caption="Fuente: EPH tercer trimestre 2018")
p2
p2+theme_wsj()
p2+theme_economist()
p2+theme_excel()
p2+theme_tufte()
p2+theme_wsj()
